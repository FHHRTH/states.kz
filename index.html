<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Премиальный набор посуды | 17 предметов</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #f8f9fa;
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            padding: 20px 15px;
            display: none;
            flex-direction: column;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .instruction-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #fff;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
        }
        
        .instruction-content {
            max-width: 320px;
        }
        
        .instruction-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 25px;
            color: #333;
        }
        
        .instruction-steps {
            text-align: left;
            margin-bottom: 30px;
            font-size: 16px;
            line-height: 1.6;
            padding-left: 20px;
        }
        
        .instruction-steps li {
            margin-bottom: 15px;
            position: relative;
            list-style-type: decimal;
        }
        
        .ready-btn {
            background: linear-gradient(135deg, #000000, #333333);
            color: #fff;
            border: none;
            border-radius: 25px;
            padding: 14px 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }
        
        /* Форма заказа */
        .order-form {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .form-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .kaspi-btn {
            background: linear-gradient(135deg, #00a3ff, #0066cc);
            color: #fff;
            border: none;
            border-radius: 25px;
            padding: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
            transition: all 0.2s ease;
        }
        
        .kaspi-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        /* Остальные стили */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0 20px;
        }
        
        .logo {
            font-weight: 600;
            font-size: 18px;
            letter-spacing: -0.3px;
            color: #000;
        }
        
        .product-image {
            width: 100%;
            max-width: 280px;
            height: auto;
            margin: 0 auto 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .product-image img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .product-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 10px;
            text-align: center;
            color: #222;
        }
        
        .product-composition {
            font-size: 15px;
            color: #555;
            margin-bottom: 20px;
            text-align: center;
            line-height: 1.4;
        }
        
        .price-container {
            margin-bottom: 15px;
            text-align: center;
        }
        
        .current-price {
            font-size: 24px;
            font-weight: 700;
            color: #d32f2f;
        }
        
        .old-price {
            font-size: 16px;
            color: #999;
            text-decoration: line-through;
            margin-left: 8px;
        }
        
        .payment-notice {
            font-size: 14px;
            color: #666;
            margin-bottom: 25px;
            text-align: center;
            padding: 0 10px;
            line-height: 1.5;
        }
        
        .action-btn {
            background: linear-gradient(135deg, #000000, #333333);
            color: #fff;
            border: none;
            border-radius: 25px;
            padding: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
            width: 100%;
            max-width: 280px;
            margin: 0 auto 30px;
            display: block;
        }
        
        .features {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 20px;
            gap: 15px;
        }
        
        .feature {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 100px;
        }
        
        .feature-icon {
            width: 40px;
            height: 40px;
            background: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .feature-text {
            font-size: 12px;
            color: #666;
            text-align: center;
            font-weight: 500;
        }
        
        @media (max-width: 400px) {
            .instruction-title {
                font-size: 20px;
            }
            .instruction-steps {
                font-size: 15px;
            }
            .product-title {
                font-size: 20px;
            }
            .product-composition {
                font-size: 14px;
            }
            .current-price {
                font-size: 22px;
            }
            .action-btn {
                padding: 14px;
                font-size: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Экран инструкции -->
    <div class="instruction-screen" id="instructionScreen">
        <div class="instruction-content">
            <h2 class="instruction-title">Для корректной работы сайта</h2>
            <ol class="instruction-steps">
                <li>Нажмите на 3 точки в правом верхнем углу</li>
                <li>Выберите "Открыть в браузере"</li>
                <li>Дождитесь полной загрузки страницы</li>
                <li>Нажмите кнопку "ГОТОВО"</li>
            </ol>
            <button class="ready-btn" id="readyBtn">ГОТОВО</button>
        </div>
    </div>

    <!-- Основной контент -->
    <div class="container" id="mainContent">
        <div class="header">
            <div class="logo">PREMIUM TABLEWARE</div>
        </div>
        
        <div class="product-image">
            <img src="https://i.yapx.cc/ZarGI.jpg" alt="Премиальный набор посуды">
        </div>
        
        <h1 class="product-title">Набор посуды 17 предметов</h1>
        <p class="product-composition">8 тарелок • 8 пиал • 1 большая сервировочная чаша</p>
        
        <div class="price-container">
            <span class="current-price">60 000 ₸</span>
            <span class="old-price">75 000 ₸</span>
        </div>
        
        <p class="payment-notice">
            Внимание: при оплате укажите <strong>точную сумму 60 000 ₸</strong>.
            После оплаты мы свяжемся с вами для подтверждения заказа.
        </p>
        
        <button class="action-btn" id="orderBtn">
            ОФОРМИТЬ ЗАКАЗ
        </button>
        
        <!-- Форма заказа -->
        <div class="order-form" id="orderForm">
            <h3 class="form-title">Данные для доставки</h3>
            <div id="orderDataForm">
                <div class="form-group">
                    <label for="name">ФИО</label>
                    <input type="text" id="name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="phone">Номер телефона</label>
                    <input type="tel" id="phone" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="city">Город</label>
                    <input type="text" id="city" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="address">Адрес доставки</label>
                    <input type="text" id="address" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="comment">Комментарий к заказу</label>
                    <textarea id="comment" class="form-control" rows="2"></textarea>
                </div>
                <button class="kaspi-btn" id="kaspiBtn" disabled>ОПЛАТИТЬ С KASPI</button>
            </div>
        </div>
        
        <div class="features">
            <div class="feature">
                <div class="feature-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 8V12L15 15" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="feature-text">Быстрая доставка</span>
            </div>
            
            <div class="feature">
                <div class="feature-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 12V22H4V12" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M22 7H2V12H22V7Z" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 22V7" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="feature-text">Высшее качество</span>
            </div>
            
            <div class="feature">
                <div class="feature-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M19.4 15C19.2669 15.3016 19.227 15.6362 19.2853 15.9606C19.3436 16.285 19.4975 16.5833 19.726 16.8149C20.058 17.1454 20.5167 17.3155 20.9854 17.2828C21.4541 17.2502 21.8862 17.018 22.172 16.644L22.3 16.472C22.5624 16.1276 22.7045 15.7029 22.7045 15.266C22.7045 14.8291 22.5624 14.4044 22.3 14.06L19.9 10.9C19.6376 10.5556 19.2691 10.3031 18.85 10.18C18.4309 10.0569 17.9836 10.0698 17.5729 10.2169C17.1622 10.364 16.811 10.6372 16.5726 10.9944C16.3342 11.3516 16.2218 11.7729 16.252 12.196L16.364 11.818" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M4.60002 15C4.73314 15.3016 4.77301 15.6362 4.71472 15.9606C4.65643 16.285 4.50255 16.5833 4.27402 16.8149C3.94203 17.1454 3.48335 17.3155 3.01464 17.2828C2.54593 17.2502 2.11384 17.018 1.82802 16.644L1.70002 16.472C1.43762 16.1276 1.29553 15.7029 1.29553 15.266C1.29553 14.8291 1.43762 14.4044 1.70002 14.06L4.10002 10.9C4.36242 10.5556 4.73094 10.3031 5.15002 10.18C5.5691 10.0569 6.01638 10.0698 6.42708 10.2169C6.83778 10.364 7.18903 10.6372 7.42742 10.9944C7.66581 11.3516 7.77816 11.7729 7.74802 12.196L7.63602 11.818" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="feature-text">Для СВЧ</span>
            </div>
            
            <div class="feature">
                <div class="feature-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9 9H9.01" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M15 9H15.01" stroke="#222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="feature-text">Гарантия 14 дней</span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const instructionScreen = document.getElementById('instructionScreen');
            const mainContent = document.getElementById('mainContent');
            const readyBtn = document.getElementById('readyBtn');
            const orderBtn = document.getElementById('orderBtn');
            const orderForm = document.getElementById('orderForm');
            const kaspiBtn = document.getElementById('kaspiBtn');
            const formInputs = document.querySelectorAll('#orderDataForm input, #orderDataForm textarea');
            
            // Показываем инструкцию при загрузке
            instructionScreen.style.display = 'flex';
            mainContent.style.display = 'none';
            
            // Обработка кнопки "Готово"
            readyBtn.addEventListener('click', function() {
                instructionScreen.style.display = 'none';
                mainContent.style.display = 'flex';
            });
            
            // Обработка кнопки "Оформить заказ"
            orderBtn.addEventListener('click', function() {
                orderForm.style.display = 'block';
                orderBtn.style.display = 'none';
                window.scrollTo({
                    top: orderForm.offsetTop - 20,
                    behavior: 'smooth'
                });
            });
            
            // Включаем кнопку Kaspi при заполнении всех полей
            formInputs.forEach(input => {
                input.addEventListener('input', checkForm);
            });
            
            function checkForm() {
                const allFilled = Array.from(formInputs).every(input => {
                    if (input.required) {
                        return input.value.trim() !== '';
                    }
                    return true;
                });
                kaspiBtn.disabled = !allFilled;
            }
            
            // Обработка кнопки Kaspi
            kaspiBtn.addEventListener('click', function() {
                // Собираем данные заказа
                const orderData = {
                    name: document.getElementById('name').value,
                    phone: document.getElementById('phone').value,
                    city: document.getElementById('city').value,
                    address: document.getElementById('address').value,
                    comment: document.getElementById('comment').value || 'нет',
                    product: 'Набор посуды 17 предметов',
                    price: '60 000 ₸',
                    status: 'Ожидает оплаты'
                };
                
                // Отправляем данные в Telegram
                sendOrderToTelegram(orderData);
                
                // Перенаправляем на оплату
                window.location.href = 'https://pay.kaspi.kz/pay/p9r61lqn';
            });
            
            // Отправка заказа в Telegram
            function sendOrderToTelegram(order) {
                const botToken = '7597967811:AAHON_gTlGdKr2OaujwbbPF5mtvc4QD66bI';
                const chatIds = ['8063096129'];
                
                const message = `📦 ${order.status}:\n\nТовар: ${order.product}\nСумма: ${order.price}\nФИО: ${order.name}\nТелефон: ${order.phone}\nГород: ${order.city}\nАдрес: ${order.address}\nКомментарий: ${order.comment}`;
                
                chatIds.forEach(chatId => {
                    fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            chat_id: chatId,
                            text: message,
                            parse_mode: 'HTML'
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Order sent to Telegram:', data);
                    })
                    .catch(error => {
                        console.error('Error sending to Telegram:', error);
                    });
                });
            }
            
            // Проверяем возврат с оплаты при загрузке страницы
            function checkPaymentReturn() {
                const urlParams = new URLSearchParams(window.location.search);
                if (urlParams.has('payment') && urlParams.get('payment') === 'success') {
                    const orderData = {
                        name: document.getElementById('name')?.value || 'не указано',
                        phone: document.getElementById('phone')?.value || 'не указано',
                        city: document.getElementById('city')?.value || 'не указано',
                        address: document.getElementById('address')?.value || 'не указано',
                        comment: document.getElementById('comment')?.value || 'нет',
                        product: 'Набор посуды 17 предметов',
                        price: '60 000 ₸',
                        status: '✅ Оплаченный заказ'
                    };
                    sendOrderToTelegram(orderData);
                }
            }
            
            window.addEventListener('load', checkPaymentReturn);
        });
    </script>
</body>
</html>
